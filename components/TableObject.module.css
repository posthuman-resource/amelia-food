/* TableObject — Physical card/artifact on the table surface */

.object {
  position: absolute;
  left: var(--x);
  top: var(--y);
  transform: translate(-50%, -50%);
  z-index: 1;

  /* Staggered page load animation */
  animation: objectIn 500ms var(--bezier-gentle) both;
  animation-delay: var(--stagger, 0ms);
}

@keyframes objectIn {
  from {
    opacity: 0;
    transform: translate(-50%, -50%) translateY(12px);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%) translateY(0);
  }
}

/* The interactive card surface */
.card {
  display: block;
  padding: var(--space-xl);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-family: inherit;
  color: var(--color-text);
  min-width: 140px;
  -webkit-tap-highlight-color: transparent;

  /* Slightly transparent so the table peeks through — content stays fully opaque */
  background-color: rgba(237, 232, 223, 0.82);

  /* Rest state transform + shadow */
  transform: rotate(var(--rotation));
  box-shadow:
    0 2px 6px rgba(44, 40, 37, 0.1),
    0 6px 20px rgba(44, 40, 37, 0.06);

  /* Gentle transitions for all interactive properties */
  transition:
    transform 200ms ease-out,
    box-shadow 200ms ease-out;
}

/* Active/press: subtle settle (both desktop and mobile) */
.card:active {
  transform: rotate(var(--rotation)) translateY(-1px) scale(0.98);
  box-shadow:
    0 1px 4px rgba(44, 40, 37, 0.12),
    0 4px 12px rgba(44, 40, 37, 0.06);
  transition-duration: 100ms;
}

/* Focus-visible inherits global outline style */

/* Desktop hover: lift, slight extra rotation, deeper shadow */
@media (hover: hover) {
  .card:hover {
    transform: rotate(calc(var(--rotation) + 1.5deg)) translateY(-4px);
    box-shadow:
      0 6px 16px rgba(44, 40, 37, 0.12),
      0 16px 32px rgba(44, 40, 37, 0.08);
  }

  .card:active {
    transform: rotate(var(--rotation)) translateY(-1px) scale(0.98);
    box-shadow:
      0 1px 4px rgba(44, 40, 37, 0.12),
      0 4px 12px rgba(44, 40, 37, 0.06);
    transition-duration: 100ms;
  }
}

/* Touch devices: press feedback, no hover */
@media (hover: none) {
  .card:active {
    transform: rotate(var(--rotation)) scale(0.97);
    box-shadow:
      0 1px 3px rgba(44, 40, 37, 0.14),
      0 3px 10px rgba(44, 40, 37, 0.08);
    transition-duration: 100ms;
  }
}

/* Mobile: flex-column layout, no absolute positioning, enhanced shadow */
@media (max-width: 768px) {
  .object {
    position: static;
    transform: none;
    animation-name: objectInMobile;
  }

  .card {
    min-width: 260px;
    width: 100%;
    max-width: 340px;
    /* Slightly more shadow on mobile to enhance "looking down at table" feel */
    box-shadow:
      0 3px 8px rgba(44, 40, 37, 0.12),
      0 8px 24px rgba(44, 40, 37, 0.08);
  }
}

@keyframes objectInMobile {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: none;
  }
}
